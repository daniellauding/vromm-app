-- RESTORE LEARNING PATHS AND EXERCISES
-- This script restores the basic learning paths and exercises that were deleted

-- First, let's check if the tables exist
SELECT 'Checking tables...' as status;

-- Restore Learning Paths
INSERT INTO learning_paths (
  id, 
  title, 
  description, 
  icon, 
  image, 
  order_index, 
  active, 
  created_at, 
  updated_at, 
  exercises, 
  language_specific_media, 
  youtube_url, 
  platform, 
  type, 
  vehicle_type, 
  license_type, 
  transmission_type, 
  experience_level, 
  purpose, 
  user_profile, 
  is_locked, 
  lock_password, 
  bypass_order, 
  paywall_enabled, 
  price_usd, 
  price_sek, 
  is_featured
) VALUES 
-- Safety Checks and Functions
(
  '02ca882f-2abe-41a8-8477-13619781934e',
  '{"en": "Safety Checks and Functions", "sv": "Säkerhetskontroller och funktioner"}',
  '{"en": "Master pre-drive inspection and emergency procedures", "sv": "Behärska förkontroll och nödprocedurer"}',
  'shield',
  NULL,
  7,
  true,
  '2025-04-28 21:29:18.779405+00',
  '2025-09-04 19:56:34.64406+00',
  '[]',
  false,
  NULL,
  'both',
  'learning',
  'Car',
  'Standard Driving License (B)',
  'Manual',
  'Beginner',
  'Prepare for driving test',
  'All',
  false,
  NULL,
  false,
  true,
  1.00,
  1.00,
  false
),
-- Coordination and Braking
(
  '04677450-6195-47eb-b190-478585e537bd',
  '{"en": "Coordination and Braking", "sv": "Koordination och bromsning"}',
  '{"en": "Practice emergency stops and brake feathering", "sv": "Öva på nödbromsning och mjuk bromsning"}',
  'stop-circle',
  NULL,
  8,
  true,
  '2025-04-28 21:29:18.779405+00',
  '2025-09-04 22:14:51.175195+00',
  '[]',
  false,
  NULL,
  'both',
  'learning',
  'Car',
  'Standard Driving License (B)',
  'Manual',
  'Beginner',
  'Prepare for driving test',
  'All',
  false,
  NULL,
  false,
  true,
  1.00,
  1.00,
  false
),
-- Signs & Situations (Featured)
(
  '8bcec2ae-5ea3-4e0e-97ae-cb4e80fd14da',
  '{"en": "Signs & Situations", "sv": "Skyltar och situationer"}',
  '{"en": "Practice recognizing signs and responding correctly while driving", "sv": "Träna på att känna igen skyltar och fatta rätt beslut i trafiken"}',
  NULL,
  NULL,
  31,
  true,
  '2025-07-03 20:39:52.178085+00',
  '2025-09-17 07:22:02.481474+00',
  '[]',
  false,
  NULL,
  'both',
  'learning',
  'Car',
  'Standard Driving License (B)',
  'Manual',
  'Beginner',
  'Signs & Situations',
  'All',
  false,
  NULL,
  false,
  false,
  NULL,
  NULL,
  true
),
-- Driving Position (Featured)
(
  '6b4856cf-77fc-4e62-a7bd-224221dcf4ce',
  '{"en": "Driving Position", "sv": "Körställning"}',
  '{"en": "Learn the correct driving position and mirror adjustment", "sv": "Lär dig korrekt körställning och spegelinställning"}',
  'user',
  NULL,
  2,
  true,
  '2025-04-28 21:29:18.779405+00',
  '2025-09-17 07:03:21.378802+00',
  '[]',
  false,
  NULL,
  'both',
  'learning',
  'Car',
  'Standard Driving License (B)',
  'Manual',
  'Beginner',
  'Prepare for driving test',
  'All',
  false,
  'testar',
  true,
  false,
  1.00,
  1.00,
  true
),
-- Driving on a Motorway (Featured)
(
  '5ce8797e-df4d-4da0-94b4-3e76eb3f0d2a',
  '{"en": "Driving on a Motorway and Expressway", "sv": "Körning på motorväg och motortrafikled"}',
  '{"en": "Master high-speed control and safe overtaking", "sv": "Behärska hastighetskontroll och säker omkörning"}',
  'wind',
  NULL,
  13,
  true,
  '2025-04-28 21:29:18.779405+00',
  '2025-09-04 21:50:21.48814+00',
  '[]',
  false,
  NULL,
  'both',
  'learning',
  'Car',
  'Standard Driving License (B)',
  'Manual',
  'Beginner',
  'Prepare for driving test',
  'All',
  false,
  NULL,
  false,
  true,
  1.00,
  1.00,
  true
)
ON CONFLICT (id) DO NOTHING;

-- Restore Learning Path Exercises
INSERT INTO learning_path_exercises (
  id,
  learning_path_id,
  title,
  description,
  order_index,
  youtube_url,
  icon,
  image,
  embed_code,
  created_at,
  updated_at,
  language_specific_media,
  is_locked,
  lock_password,
  bypass_order,
  paywall_enabled,
  price_usd,
  price_sek,
  repeat_count,
  is_featured
) VALUES 
-- Spot the Sign (Featured)
(
  '5483df72-83d9-4cb6-ae78-5dddaa5e26e1',
  '8bcec2ae-5ea3-4e0e-97ae-cb4e80fd14da',
  '{"en": "Spot the Sign", "sv": "Hitta skylten"}',
  '{"en": "Drive through out any road s verifies.", "sv": "Kör genom vilken väg som helst och verifiera."}',
  1,
  NULL,
  NULL,
  NULL,
  NULL,
  '2025-08-30 11:46:17.506455+00',
  '2025-08-30 11:46:17.506455+00',
  false,
  false,
  NULL,
  false,
  false,
  NULL,
  NULL,
  1,
  true
),
-- Gentle Acceleration (Featured)
(
  'd3ef2361-26a6-445b-81c8-8cce90ac63a1',
  '6b4856cf-77fc-4e62-a7bd-224221dcf4ce',
  '{"en": "Gentle Acceleration", "sv": "Mjuk acceleration"}',
  '{"en": "Practice smooth acceleration techniques", "sv": "Öva på mjuka accelerationstekniker"}',
  1,
  NULL,
  NULL,
  NULL,
  NULL,
  '2025-08-30 11:46:17.506455+00',
  '2025-08-30 11:46:17.506455+00',
  false,
  false,
  NULL,
  false,
  false,
  NULL,
  NULL,
  1,
  true
),
-- Steering Wheel Grip (Featured)
(
  '507ab070-c7ad-4a2e-a410-e48b1c672b84',
  '6b4856cf-77fc-4e62-a7bd-224221dcf4ce',
  '{"en": "Steering Wheel Grip", "sv": "Rattgrepp"}',
  '{"en": "Learn proper steering wheel grip and control", "sv": "Lär dig korrekt rattgrepp och kontroll"}',
  2,
  NULL,
  NULL,
  NULL,
  NULL,
  '2025-08-30 11:46:17.506455+00',
  '2025-08-30 11:46:17.506455+00',
  false,
  false,
  NULL,
  false,
  false,
  NULL,
  NULL,
  1,
  true
)
ON CONFLICT (id) DO NOTHING;

-- Verify the restoration
SELECT 'Learning Paths Restored:' as status;
SELECT id, title->>'en' as title, is_featured FROM learning_paths WHERE is_featured = true;

SELECT 'Learning Path Exercises Restored:' as status;
SELECT id, title->>'en' as title, learning_path_id, is_featured FROM learning_path_exercises WHERE is_featured = true;
